# 魔鬼游戏战斗纵向切片框架及细节

## 目录
### 跑前须知 -- requirments
### 自走棋战斗逻辑
### 战斗框架组成部分
### 组成部分详情

### 跑前须知
建议python版本：3.11.3
  python版本需兼容type indication
1. 安装python 3.11.3
2. 在终端中跑
```
python -m venv /path/to/new/virtual/environment
```
  创建虚拟环境
3. 在终端跑
```
cd path/to/folder
python3 battle.py
```

### 自走棋战斗逻辑
自走棋顾名思义，是以棋子自身根据当前条件自发进行移动，攻击，技能施放 等动作。
在对战前，玩家可以对所有棋子进行操作，如购买，升级，放置棋子到棋盘上，撤回棋子到备战区，布阵等。而一旦战斗开始，玩家将不能操作，战斗完全靠棋子自动判断行动。这也就形成了自走棋基本的判断逻辑：当回合将要发生的所有情况在棋子放置好之后就已经确定了，并且可以计算出来。所展示给玩家的内容完全是预先计算的结果。
举个例子：在第一回合的时候，给予玩家的费用只够玩家购买一个棋子。每回合一定的十五秒倒计时开始：玩家可以选择上场这个棋子（比如他抽到了<蚂蚁>）也可以选择不上场这个棋子。玩家选择将“蚂蚁”放入场上。在15秒倒计时结束之后战斗自动开始，显示了对方的棋子，比如说对方棋子是一个<小丑鱼>。这个时候玩家将不能再做任何操作。蚂蚁和小丑鱼将会根据棋子已有的算法自动移动，攻击，和施法直至一方棋子完全死亡，回合就会结束。

因为自走棋是完全自发的攻击，移动和施法的。所以我们需要时间做驱动轴。

战斗的过程本质上是一个时间递增的过程。所以战斗的主体是一个循环，在这个循环内，有一个最小的时间单位，我们可以叫他 timestamp（时间章）。在每个timestamp 到来的时候我们轮流对棋子进行判定，然后棋子会根据算法自主行动。

在这个游戏中，我们的timestamp 是0.05秒，即0.05秒时游戏判定的最小单位，也是所有计数器的最大公约数。为了保证程序的运行，代码中的时间都是以整数表示，只有在终端打印的时候才做除以100 的操作，以达到显示目的。

在对单个棋子进行判定的时候，我们依次对棋子的 死亡、位置、状态、技能、攻击、移动 进行判定。后面的详情会详细介绍每种判定是什么意思。

### 战斗框架组成部分明细
为了实现上述的种种判定，我们需要对我们在游戏中看到的物件进行抽象建模，这些模块大概分为四大类

1. 战斗主体模块
2. 棋子模块
3. 棋子技能模块
4. 棋子状态模块
   
#### 1. 战斗主体模块
主要作用：这个模块集合了其余三大模块，其主要作用是模拟玩家的游玩环境，并且进行战斗的循环（对于棋子的判定）。在这个部分里，玩家可以选择上场的棋子，它们的数量，以及摆放的位置。
主要方法：
addRedTeam() \n
addBlueTeam() \n
这两个方法的作用是将棋子list导入在棋盘中，输入为 一个棋子list, list里面必须是 chessInterface 及其子类。填入妻子的时候需要用 
```
[ant(position=[0,0]), ant(position=[0,1]),ant(position=[0,2]),ant(position=[0,2]),ant(position=[0,2])]
```
这种格式来填写。\n

board_print() \n
这个方法的作用是打印当前的棋盘，不需要任何输入值。

battle_with_skills()
这个方法承载了主要战斗循环，以及判定逻辑，在准备工作做完之后就可以调用这个方法开始战斗。

#### 2. 棋子模块




